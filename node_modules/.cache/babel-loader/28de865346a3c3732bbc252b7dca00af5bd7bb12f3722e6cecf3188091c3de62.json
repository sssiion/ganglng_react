{"ast":null,"code":"import React, { useState, useRef, useImperativeHandle } from 'react';\nimport { useIsomorphicLayoutEffect } from '../hooks/useIsomorphicLayoutEffect.js';\nimport { Loader } from '../util/kakaoMapApiLoader.js';\nimport { useKakaoMapsSetEffect } from '../hooks/useKakaoMapsSetEffect.js';\nimport { jsx } from 'react/jsx-runtime';\nconst StaticMap = /*#__PURE__*/React.forwardRef(function StaticMap(_ref, ref) {\n  let {\n    as,\n    id,\n    center,\n    marker,\n    level,\n    mapTypeId,\n    onCreate,\n    ...props\n  } = _ref;\n  const Container = as || \"div\";\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [map, setMap] = useState();\n  const container = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    const callback = Loader.addLoadEventLisnter(err => setIsLoaded(!err));\n    return () => {\n      Loader.removeLoadEventLisnter(callback);\n    };\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    if (!isLoaded) return;\n    const MapContainer = container.current;\n    if (!MapContainer) return;\n    const _marker = (() => {\n      if (Array.isArray(marker)) {\n        return marker.map(mk => {\n          return {\n            ...mk,\n            position: new kakao.maps.LatLng(mk.position.lat, mk.position.lng)\n          };\n        });\n      }\n      if (typeof marker === \"object\") {\n        if (marker.position) {\n          return {\n            ...marker,\n            position: new kakao.maps.LatLng(marker.position.lat, marker.position.lng)\n          };\n        }\n        return marker;\n      }\n      return marker;\n    })();\n    const kakaoStaticMap = new kakao.maps.StaticMap(MapContainer, {\n      center: new kakao.maps.LatLng(center.lat, center.lng),\n      level,\n      mapTypeId: typeof mapTypeId === \"string\" ? kakao.maps.MapTypeId[mapTypeId] : mapTypeId,\n      marker: _marker\n    });\n    setMap(kakaoStaticMap);\n    return () => {\n      MapContainer.innerHTML = \"\";\n    };\n  }, [isLoaded, JSON.stringify(marker)]);\n  useImperativeHandle(ref, () => map, [map]);\n  useIsomorphicLayoutEffect(() => {\n    if (map && onCreate) onCreate(map);\n  }, [map, onCreate]);\n  useIsomorphicLayoutEffect(() => {\n    if (map) map.setCenter(new kakao.maps.LatLng(center.lat, center.lng));\n  }, [map, center.lat, center.lng]);\n  useKakaoMapsSetEffect(map, \"setLevel\", level);\n  useKakaoMapsSetEffect(map, \"setMapTypeId\", isLoaded ? typeof mapTypeId === \"string\" ? kakao.maps.MapTypeId[mapTypeId] : mapTypeId : undefined);\n  return /*#__PURE__*/jsx(Container, {\n    id: id,\n    ...props,\n    ref: container\n  });\n});\nexport { StaticMap };","map":{"version":3,"names":["React","useState","useRef","useImperativeHandle","useIsomorphicLayoutEffect","Loader","useKakaoMapsSetEffect","jsx","StaticMap","forwardRef","_ref","ref","as","id","center","marker","level","mapTypeId","onCreate","props","Container","isLoaded","setIsLoaded","map","setMap","container","callback","addLoadEventLisnter","err","removeLoadEventLisnter","MapContainer","current","_marker","Array","isArray","mk","position","kakao","maps","LatLng","lat","lng","kakaoStaticMap","MapTypeId","innerHTML","JSON","stringify","setCenter","undefined"],"sources":["C:/Users/USER/my-app/node_modules/react-kakao-maps-sdk/esm/components/StaticMap.js"],"sourcesContent":["import React, { useState, useRef, useImperativeHandle } from 'react';\nimport { useIsomorphicLayoutEffect } from '../hooks/useIsomorphicLayoutEffect.js';\nimport { Loader } from '../util/kakaoMapApiLoader.js';\nimport { useKakaoMapsSetEffect } from '../hooks/useKakaoMapsSetEffect.js';\nimport { jsx } from 'react/jsx-runtime';\n\nconst StaticMap = /*#__PURE__*/React.forwardRef(function StaticMap(_ref, ref) {\n  let {\n    as,\n    id,\n    center,\n    marker,\n    level,\n    mapTypeId,\n    onCreate,\n    ...props\n  } = _ref;\n  const Container = as || \"div\";\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [map, setMap] = useState();\n  const container = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    const callback = Loader.addLoadEventLisnter(err => setIsLoaded(!err));\n    return () => {\n      Loader.removeLoadEventLisnter(callback);\n    };\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    if (!isLoaded) return;\n    const MapContainer = container.current;\n    if (!MapContainer) return;\n    const _marker = (() => {\n      if (Array.isArray(marker)) {\n        return marker.map(mk => {\n          return {\n            ...mk,\n            position: new kakao.maps.LatLng(mk.position.lat, mk.position.lng)\n          };\n        });\n      }\n      if (typeof marker === \"object\") {\n        if (marker.position) {\n          return {\n            ...marker,\n            position: new kakao.maps.LatLng(marker.position.lat, marker.position.lng)\n          };\n        }\n        return marker;\n      }\n      return marker;\n    })();\n    const kakaoStaticMap = new kakao.maps.StaticMap(MapContainer, {\n      center: new kakao.maps.LatLng(center.lat, center.lng),\n      level,\n      mapTypeId: typeof mapTypeId === \"string\" ? kakao.maps.MapTypeId[mapTypeId] : mapTypeId,\n      marker: _marker\n    });\n    setMap(kakaoStaticMap);\n    return () => {\n      MapContainer.innerHTML = \"\";\n    };\n  }, [isLoaded, JSON.stringify(marker)]);\n  useImperativeHandle(ref, () => map, [map]);\n  useIsomorphicLayoutEffect(() => {\n    if (map && onCreate) onCreate(map);\n  }, [map, onCreate]);\n  useIsomorphicLayoutEffect(() => {\n    if (map) map.setCenter(new kakao.maps.LatLng(center.lat, center.lng));\n  }, [map, center.lat, center.lng]);\n  useKakaoMapsSetEffect(map, \"setLevel\", level);\n  useKakaoMapsSetEffect(map, \"setMapTypeId\", isLoaded ? typeof mapTypeId === \"string\" ? kakao.maps.MapTypeId[mapTypeId] : mapTypeId : undefined);\n  return /*#__PURE__*/jsx(Container, {\n    id: id,\n    ...props,\n    ref: container\n  });\n});\n\nexport { StaticMap };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}